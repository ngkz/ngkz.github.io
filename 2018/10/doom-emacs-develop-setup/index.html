<!DOCTYPE html>
<html lang="ja">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.42.2 with theme Tranquilpeak 0.4.3-SNAPSHOT">
<meta name="author" content="Kazutoshi Noguchi">
<meta name="keywords" content="">
<meta name="description" content="動機


収録ソフトウェアがかなり古くなってきている Ubuntu 14.04 から Linux From Scratch に移行しよう
この機会に neovim に移行して、vim の設定を一から書き直そう
エディタ部分は大量に設定を書かないと使い勝手が悪いし、プラグインの導入と設定も面倒だ
vim 風のキーバインディングで、よりすぐれた操作性を持つ Kakoune というエディタがあるらしい。試してみよう
たしかに、設計・デフォルト設定や操作性は vim より良いが、プラグインが足りない
じゃあプラグインが充実している Emacs だ。素の Emacs は設定が大変らしいから、spacemacsも試してみよう。
起動が遅い
Spacemacs より軽い DOOM Emacs というのがあるらしい。これにしよう


">


<meta property="og:description" content="動機


収録ソフトウェアがかなり古くなってきている Ubuntu 14.04 から Linux From Scratch に移行しよう
この機会に neovim に移行して、vim の設定を一から書き直そう
エディタ部分は大量に設定を書かないと使い勝手が悪いし、プラグインの導入と設定も面倒だ
vim 風のキーバインディングで、よりすぐれた操作性を持つ Kakoune というエディタがあるらしい。試してみよう
たしかに、設計・デフォルト設定や操作性は vim より良いが、プラグインが足りない
じゃあプラグインが充実している Emacs だ。素の Emacs は設定が大変らしいから、spacemacsも試してみよう。
起動が遅い
Spacemacs より軽い DOOM Emacs というのがあるらしい。これにしよう


">
<meta property="og:type" content="article">
<meta property="og:title" content="DOOM Emacsの導入方法 &amp; 設定例">
<meta name="twitter:title" content="DOOM Emacsの導入方法 &amp; 設定例">
<meta property="og:url" content="https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
<meta property="twitter:url" content="https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
<meta property="og:site_name" content="ngkz.log">
<meta property="og:description" content="動機


収録ソフトウェアがかなり古くなってきている Ubuntu 14.04 から Linux From Scratch に移行しよう
この機会に neovim に移行して、vim の設定を一から書き直そう
エディタ部分は大量に設定を書かないと使い勝手が悪いし、プラグインの導入と設定も面倒だ
vim 風のキーバインディングで、よりすぐれた操作性を持つ Kakoune というエディタがあるらしい。試してみよう
たしかに、設計・デフォルト設定や操作性は vim より良いが、プラグインが足りない
じゃあプラグインが充実している Emacs だ。素の Emacs は設定が大変らしいから、spacemacsも試してみよう。
起動が遅い
Spacemacs より軽い DOOM Emacs というのがあるらしい。これにしよう


">
<meta name="twitter:description" content="動機


収録ソフトウェアがかなり古くなってきている Ubuntu 14.04 から Linux From Scratch に移行しよう
この機会に neovim に移行して、vim の設定を一から書き直そう
エディタ部分は大量に設定を書かないと使い勝手が悪いし、プラグインの導入と設定も面倒だ
vim 風のキーバインディングで、よりすぐれた操作性を持つ Kakoune というエディタがあるらしい。試してみよう
たしかに、設計・デフォルト設定や操作性は vim より良いが、プラグインが足りない
じゃあプラグインが充実している Emacs だ。素の Emacs は設定が大変らしいから、spacemacsも試してみよう。
起動が遅い
Spacemacs より軽い DOOM Emacs というのがあるらしい。これにしよう


">
<meta property="og:locale" content="ja">

  
    <meta property="article:published_time" content="2018-10-20T10:50:27">
  
  
    <meta property="article:modified_time" content="2018-10-20T10:50:27">
  
  
  
    
      <meta property="article:section" content="howto">
    
  
  
    
      <meta property="article:tag" content="Emacs">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://ngkz.github.io/mypicture.jpg">
  <meta property="twitter:image" content="https://ngkz.github.io/mypicture.jpg">


    <title>DOOM Emacsの導入方法 &amp; 設定例</title>

    <link rel="icon" href="https://ngkz.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://ngkz.github.io/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://ngkz.github.io/">ngkz.log</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://ngkz.github.io/page/profile/">
    
    
    
      
        <img class="header-picture" src="https://ngkz.github.io/mypicture.jpg" alt="プロフィール画像" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://ngkz.github.io/page/profile/">
          <img class="sidebar-profile-picture" src="https://ngkz.github.io/mypicture.jpg" alt="プロフィール画像" />
        </a>
        <h4 class="sidebar-profile-name">Kazutoshi Noguchi</h4>
        
          <h5 class="sidebar-profile-bio">I&rsquo;m interested in InfoSec, CTF, Electronics, and DIY.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">ホーム</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">カテゴリー</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">タグ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">アーカイブ</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/page/profile/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">プロフィール</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/ngkz" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://ngkz.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      DOOM Emacsの導入方法 &amp; 設定例
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-10-20T10:50:27&#43;09:00">
        
  
  
  
  
    2018-10-20
  

      </time>
    
    
  
  
    <span>カテゴリー</span>
    
      <a class="category-link" href="https://ngkz.github.io/categories/howto">howto</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <h2 id="動機">動機</h2>

<ol>
<li>収録ソフトウェアがかなり古くなってきている Ubuntu 14.04 から Linux From Scratch に移行しよう</li>
<li>この機会に neovim に移行して、vim の設定を一から書き直そう</li>
<li>エディタ部分は大量に設定を書かないと使い勝手が悪いし、プラグインの導入と設定も面倒だ</li>
<li>vim 風のキーバインディングで、よりすぐれた操作性を持つ <a href="http://kakoune.org/why-kakoune/why-kakoune.html">Kakoune というエディタがあるらしい</a>。<a href="https://github.com/ngkz/kakrc">試してみよう</a></li>
<li>たしかに、設計・デフォルト設定や操作性は vim より良いが、プラグインが足りない</li>
<li>じゃあプラグインが充実している Emacs だ。素の Emacs は設定が大変らしいから、<a href="http://spacemacs.org/">spacemacs</a>も試してみよう。</li>
<li>起動が遅い</li>
<li>Spacemacs より軽い DOOM Emacs というのがあるらしい。これにしよう</li>
</ol>

<p></p>

<h2 id="インストール">インストール</h2>

<p>現在、<a href="https://github.com/hlissner/doom-emacs/issues/739">master ブランチは動作しない</a> 状態なので、<a href="https://github.com/hlissner/doom-emacs/tree/develop">develop ブランチ</a>をインストールする。</p>

<pre><code class="language-sh">~$ rm -rf ~/.emacs.d
~$ git clone https://github.com/hlissner/doom-emacs ~/.emacs.d
~$ cd .emacs.d
~$ git checkout develop
#設定を~/.doom.dに置く場合
~/.emacs.d$ bin/doom quickstart
#設定を~/.config/doomに置く場合
~/.emacs.d$ bin/doom -p ~/.config/doom quickstart
</code></pre>

<p>master ブランチの README と Wiki の情報は古くなっているので、develop ブランチの README と DOOM Emacs のコードを参考に設定する。</p>

<h3 id="doom-emacs-の一部をバイトコンパイルして起動を高速化">DOOM Emacs の一部をバイトコンパイルして起動を高速化</h3>

<p>私の環境ではほとんど効果がなかった。</p>

<pre><code class="language-sh">~/.emacs.d $ bin/doom compile :core
</code></pre>

<h2 id="使い方">使い方</h2>

<ul>
<li>キーバインドは各モジュールの<code>config.el</code>や<code>+binding.el</code>で定義されている。

<ul>
<li>基本的なキーバインドは<a href="https://github.com/hlissner/doom-emacs/blob/develop/modules/config/default/%2Bbindings.el">config/default モジュールで定義されている</a></li>
</ul></li>
<li>Space, g, C-x などのプレフィックスキーを押した後、2 秒くらい何もしないでいると、キーの一覧と短い説明が自動で出てくる。</li>
<li><code>SPC :</code>または<code>M-x</code>で emacs コマンドの検索と実行ができる。キーバインドも表示される(ただし複数のキーにマップされている場合 1 つだけしか表示されない)。<br />
キーバインドを覚えていない機能を使うときに便利</li>
<li><code>SPC h</code> で現在使用中のモード・選択したシンボル・指定した関数などのヘルプが出せる。</li>
<li><code>doom update</code> でプラグインをアップデート</li>
<li><code>doom upgrade</code> で DOOM Emacs をアップデート</li>
<li><code>doom doctor</code> を実行すると、DOOM Emacs が正しくインストールされているか、依存プログラムがインストールされているかをチェックしてくれる</li>
</ul>

<h2 id="カスタマイズ方法">カスタマイズ方法</h2>

<ol>
<li><p><code>.doom.d</code> ディレクトリ内の以下のファイルを編集する。</p>

<table>
<thead>
<tr>
<th>ファイル名</th>
<th>役割</th>
</tr>
</thead>

<tbody>
<tr>
<td>init.el</td>
<td>DOOM のコアが初期化された後、モジュールがロードされる前に実行される。ここで使用するモジュールを指定する</td>
</tr>

<tr>
<td>packages.el</td>
<td>ここに追加でインストールするパッケージを書く</td>
</tr>

<tr>
<td>config.el</td>
<td>依存パッケージのロード後に実行される。ここにキーバインドやパッケージの設定を書く</td>
</tr>
</tbody>
</table></li>

<li><p><code>init.el</code>か<code>packages.el</code>を編集した場合、<code>doom refresh</code>を叩き、プラグインのインストール、不要なプラグインの削除と autoload ファイルの更新 を行う。</p>

<pre><code class="language-sh">~/.emacs.d$ bin/doom refresh
</code></pre></li>

<li><p><code>SPC q r</code> で再起動</p></li>
</ol>

<h3 id="機能を有効にする">機能を有効にする</h3>

<p>デフォルト状態では基本的な機能以外は無効になっている。</p>

<p><code>init.el</code>を開き、コメントアウトを外し、<code>doom refresh</code>すると使えるようになる。モジュールによっては <code>(format +onsave)</code>にように、モジュール名を括弧で囲み、<code>+</code>でオプション名を付けるとオプション機能を有効にできる。</p>

<p>機能の使い方、必要な外部プログラム、使えるオプションはモジュールの README やソースコードで調べられる。</p>

<h3 id="キーバインドの追加">キーバインドの追加</h3>

<h4 id="キーに関数をマップ">キーに関数をマップ</h4>

<pre><code class="language-elisp">;(map! :&lt;モード&gt; &quot;&lt;キー&gt;&quot; &lt;キーが押されたとき実行する関数&gt;)
;複数のキーを同時にマップできる
(map! :nvi &quot;C-h&quot; #'evil-window-left ;#'&lt;関数名&gt;
      :nvi &quot;C-j&quot; #'evil-window-down)
</code></pre>

<p>モードには以下の値が使える</p>

<table>
<thead>
<tr>
<th>文字</th>
<th>対応するモード</th>
</tr>
</thead>

<tbody>
<tr>
<td>n</td>
<td>ノーマル</td>
</tr>

<tr>
<td>v</td>
<td>ビジュアル</td>
</tr>

<tr>
<td>i</td>
<td>インサート</td>
</tr>

<tr>
<td>e</td>
<td>emacs</td>
</tr>

<tr>
<td>o</td>
<td>オペレータ</td>
</tr>

<tr>
<td>m</td>
<td>モーション</td>
</tr>

<tr>
<td>r</td>
<td>replace</td>
</tr>

<tr>
<td>g</td>
<td>global</td>
</tr>
</tbody>
</table>

<h4 id="vim-の-map-と同等のことをする">vim の:map と同等のことをする</h4>

<pre><code class="language-elisp">(map! :n &quot;C-;&quot; (kbd &quot;itest&quot;))
</code></pre>

<h2 id="カスタマイズ例">カスタマイズ例</h2>

<p><a href="https://github.com/ngkz/doom.d">https://github.com/ngkz/doom.d</a></p>

<h3 id="フォントの変更">フォントの変更</h3>

<p><a href="https://github.com/hlissner/doom-emacs/tree/develop/modules/ui/doom#changing-fonts">https://github.com/hlissner/doom-emacs/tree/develop/modules/ui/doom#changing-fonts</a></p>

<p><strong>config.el</strong> に以下のコードを追加</p>

<pre><code class="language-elisp">(setq doom-font (font-spec :family &quot;NasuM&quot; :size 14)
      doom-variable-pitch-font (font-spec :family &quot;Nasu&quot;)
      doom-unicode-font (font-spec :family &quot;NasuM&quot;)
      doom-big-font (font-spec :family &quot;NasuM&quot; :size 22))
</code></pre>

<h3 id="コメントを見やすくする">コメントを見やすくする</h3>

<p><code>&lt;テーマ名&gt;-brighter-comments</code> を真にするとコメントの文字色と背景色が明るくなる。背景が白っぽいと見栄えが悪いので、<code>&lt;テーマ名&gt;-comment-bg</code>で戻す。テーマによっては使えないので注意 (<a href="https://github.com/hlissner/emacs-doom-themes">テーマのソースコード</a> 参照)</p>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">(setq doom-one-brighter-comments t)
;; don't lighten the background of the comment
(setq doom-one-comment-bg nil)
</code></pre>

<h3 id="保存時に自動フォーマット">保存時に自動フォーマット</h3>

<p><strong>init.el</strong></p>

<pre><code class="language-elisp">       :editor
       (format +onsave)  ; automated prettiness
</code></pre>

<h3 id="デフォルトのコメント開始文字を-に設定">デフォルトのコメント開始文字を#に設定</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">(setq-default comment-start &quot;# &quot;)
</code></pre>

<h3 id="行末の空白文字をハイライト">行末の空白文字をハイライト</h3>

<p>terminal では無効にする</p>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; Highlight trailing whitespace
(setq-default show-trailing-whitespace t)

;; Disable trailing whitespace highlighting when in some modes
;; https://qiita.com/tadsan/items/df73c711f921708facdc
(defun my/disable-trailing-mode-hook ()
  &quot;Disable show tail whitespace.&quot;
  (setq show-trailing-whitespace nil))

(defvar my/disable-trailing-modes
  '(comint-mode
    eshell-mode
    eww-mode
    term-mode
    twittering-mode))

(mapc
 (lambda (mode)
   (add-hook (intern (concat (symbol-name mode) &quot;-hook&quot;))
             'my/disable-trailing-mode-hook))
 my/disable-trailing-modes)
</code></pre>

<h3 id="タブ-全角スペース-ハードスペースを記号に変換して表示">タブ・全角スペース・ハードスペースを記号に変換して表示</h3>

<p><code>␣</code>は曖昧幅なので、<code>␣</code>が半角になるフォントを使用している場合は、<code>□</code>などの全角文字に変更しないと表示がおかしくなる。</p>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">; highlight tab, hard space, and full-width space
(require 'whitespace)
(setq whitespace-style '(
    face
    tabs
    spaces
    space-mark
    tab-mark
))
(setq whitespace-display-mappings '(
    (space-mark ?\u3000 [?␣])       ;full-width space AMBIGUOUS WIDTH!
    (space-mark ?\u00A0 [?\uFF65])   ;hard space
    (tab-mark   ?\t     [?» ?\t])    ;tab
))
(setq whitespace-space-regexp &quot;\\([\u3000]+\\)&quot;) ; highlight only full-width space
(global-whitespace-mode t)
</code></pre>

<h3 id="markdown-モードの-auto-fill-を切る">Markdown モードの auto-fill を切る</h3>

<p>Markdown モードの Auto-Fill (行が長くなったら自動で改行を入れる機能) が鬱陶しいのでオフにする。</p>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;turn off auto-fill
(add-hook 'markdown-mode-hook (lambda () (auto-fill-mode -1)))
</code></pre>

<h3 id="画面端で行を折り返す-soft-wrap">画面端で行を折り返す (soft wrap)</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;soft wrapping
(global-visual-line-mode t)
</code></pre>

<h3 id="ウィンドウをリサイズしやすくする">ウィンドウをリサイズしやすくする</h3>

<p><a href="http://d.hatena.ne.jp/khiker/20100119/window_resize">Re: 分割したウィンドウの大きさをインタラクティヴに変更する</a> の改変</p>

<p><code>Ctrl-W SPC</code> を押すと、HJKL でウィンドウのサイズが変更できるようになる。(HJKL で大まかに調整、Shift+HJKL で微調整)。他のキーを押すとノーマルモードに戻る。</p>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;resize window quickly
;http://d.hatena.ne.jp/khiker/20100119/window_resize
(defun my-window-resizer ()
  &quot;Control window size and position.&quot;
  (interactive)
  (let ((window-obj (selected-window))
        (current-width (window-width))
        (current-height (window-height))
        (dx (if (= (nth 0 (window-edges)) 0) 1
              -1))
        (dy (if (= (nth 1 (window-edges)) 0) 1
              -1))
        action c)
    (catch 'end-flag
      (while t
        (setq action
              (read-key-sequence-vector (format &quot;size[%dx%d]&quot;
                                                (window-width)
                                                (window-height))))
        (setq c (aref action 0))
        (cond ((= c ?l)
               (enlarge-window-horizontally (* dx 5)))
              ((= c ?L)
               (enlarge-window-horizontally dx))
              ((= c ?h)
               (shrink-window-horizontally (* dx 5)))
              ((= c ?H)
               (shrink-window-horizontally dx))
              ((= c ?j)
               (enlarge-window (* dy 2)))
              ((= c ?J)
               (enlarge-window dy))
              ((= c ?k)
               (shrink-window (* dy 2)))
              ((= c ?K)
               (shrink-window dy))
              ;; otherwise
              (t
               (let ((last-command-char (aref action 0))
                     (command (key-binding action)))
                 (when command
                   (call-interactively command)))
               (message &quot;Quit&quot;)
               (throw 'end-flag t)))))))

(map! :map evil-window-map
      &quot;SPC&quot; #'my-window-resizer) ; CTRL-w SPC or SPC w SPC
</code></pre>

<h3 id="ctrl-hjkl-でウィンドウを切り替え">Ctrl-hjkl でウィンドウを切り替え</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; switch between window with C-hjkl
(map! :nvi &quot;C-h&quot; #'evil-window-left
      :nvi &quot;C-j&quot; #'evil-window-down
      :nvi &quot;C-k&quot; #'evil-window-up
      :nvi &quot;C-l&quot; #'evil-window-right)
</code></pre>

<h3 id="ctrl-shift-hjkl-でウィンドウを移動">Ctrl-Shift-hjkl でウィンドウを移動</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; move the window with C-S-hjkl
(map! :nvi &quot;C-S-h&quot; #'+evil/window-move-left
      :nvi &quot;C-S-j&quot; #'+evil/window-move-down
      :nvi &quot;C-S-k&quot; #'+evil/window-move-up
      :nvi &quot;C-S-l&quot; #'+evil/window-move-right)
</code></pre>

<h3 id="画面の上下左右に余裕を持たせてスクロール-scrolloff-sidescrolloff">画面の上下左右に余裕を持たせてスクロール (scrolloff, sidescrolloff)</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; minimal number of screen lines to keep above and below the cursor
(setq-default scroll-margin 3)
;; minimal number of screen columns to keep to the left and to the right of the cursor
(setq-default hscroll-margin 5)
</code></pre>

<h3 id="x-で文字を削除するとき-yank-しない">x で文字を削除するとき yank しない</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; delete character without yanking
(map! :n &quot;x&quot; #'delete-char)
</code></pre>

<h3 id="テキストファイルを編集するとき-角括弧の内側に自動でスペースを挿入-削除しない">テキストファイルを編集するとき 角括弧の内側に自動でスペースを挿入・削除しない</h3>

<p>角括弧でチェックボックスを作るときに鬱陶しいので</p>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; Don't do square-bracket space-expansion where it doesn't make sense to
(after! smartparens-text
  (sp-local-pair 'text-mode
                 &quot;[&quot; nil :post-handlers '(:rem (&quot;| &quot; &quot;SPC&quot;))))
</code></pre>

<h3 id="インサートモードで-c-d-が使えるようにする">インサートモードで C-d が使えるようにする</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; Make C-d usable in insert mode
(map! :i &quot;C-d&quot; #'delete-char)
</code></pre>

<h3 id="org-mode-の-todo-アイテムの完了時刻を記録する">org-mode の TODO アイテムの完了時刻を記録する</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">;; log when a certain todo item was finished
(setq org-log-done t)
</code></pre>

<h3 id="org-mode-の日付の曜日を英語にする">org-mode の日付の曜日を英語にする</h3>

<p><strong>config.el</strong></p>

<pre><code class="language-elisp">; Make sure that the weekdays in the time stamps of your Org mode files and in the agenda appear in English.
(setq system-time-locale &quot;C&quot;)
</code></pre>

<h3 id="端末を有効化">端末を有効化</h3>

<p><code>SPC o t</code>, <code>SPC o T</code> で端末を開けるようにする</p>

<p><strong>init.el</strong></p>

<pre><code class="language-elisp">       term              ; terminals in Emacs
</code></pre>

<h2 id="ansible-サポートを有効化">ansible サポートを有効化</h2>

<p><strong>init.el</strong></p>

<pre><code class="language-elisp">       ansible
</code></pre>

<h2 id="docker-サポートを有効化">docker サポートを有効化</h2>

<p>Docker の操作と Dockerfile の編集のサポートを有効にする</p>

<p><strong>init.el</strong></p>

<pre><code class="language-elisp">       docker
</code></pre>

<h2 id="magit-を有効化">magit を有効化</h2>

<p>便利な git のフロントエンドを使えるようにする</p>

<p><strong>init.el</strong></p>

<pre><code class="language-elisp">       magit             ; a git porcelain for Emacs
</code></pre>

<h2 id="その他の言語のサポートを有効化">その他の言語のサポートを有効化</h2>

<p>:lang セクションの使うやつをアンコメントしたりオプションをつけたりする</p>

<p><strong>init.el</strong></p>

<pre><code class="language-elisp">       :lang
       assembly          ; assembly for fun or debugging
       (cc +irony +rtags); C/C++/Obj-C madness
       ;;clojure           ; java with a lisp
       ;;common-lisp       ; if you've seen one lisp, you've seen them all
       ;;coq               ; proofs-as-programs
       ;;crystal           ; ruby at the speed of c
       ;;csharp            ; unity, .NET, and mono shenanigans
       data              ; config/data formats
       ;;erlang            ; an elegant language for a more civilized age
       ;;elixir            ; erlang done right
       ;;elm               ; care for a cup of TEA?
       emacs-lisp        ; drown in parentheses
       ;;ess               ; emacs speaks statistics
       go                ; the hipster dialect
       ;;(haskell +intero) ; a language that's lazier than I am
       ;;hy                ; readability of scheme w/ speed of python
       ;;idris             ;
       ;;(java +meghanada) ; the poster child for carpal tunnel syndrome
       javascript        ; all(hope(abandon(ye(who(enter(here))))))
       ;;julia             ; a better, faster MATLAB
       ;;latex             ; writing papers in Emacs has never been so fun
       ;;ledger            ; an accounting system in Emacs
       ;;lua               ; one-based indices? one-based indices
       markdown          ; writing docs for people to ignore
       ;;nim               ; python + lisp at the speed of c
       ;;nix               ; I hereby declare &quot;nix geht mehr!&quot;
       ;;ocaml             ; an objective camel
       (org              ; organize your plain life in plain text
        +attach          ; custom attachment system
        +babel           ; running code in org
        +capture         ; org-capture in and outside of Emacs
        +export          ; Exporting org to whatever you want
        +present)        ; Emacs for presentations
       ;;perl              ; write code no one else can comprehend
       ;;php               ; perl's insecure younger brother
       ;;plantuml          ; diagrams for confusing people more
       ;;purescript        ; javascript, but functional
       (python            ; beautiful is better than ugly
        +pyenv
        +pyvenv)
       ;;qt                ; the 'cutest' gui framework ever
       ;;racket            ; a DSL for DSLs
       ;;rest              ; Emacs as a REST client
       ruby              ; 1.step do {|i| p &quot;Ruby is #{i.even? ? 'love' : 'life'}&quot;}
       rust              ; Fe2O3.unwrap().unwrap().unwrap().unwrap()
       ;;scala             ; java, but good
       (sh +fish)        ; she sells (ba|z|fi)sh shells on the C xor
       ;;solidity          ; do you need a blockchain? No.
       ;;swift             ; who asked for emoji variables?
       web               ; the tubes
       ;;vala              ; GObjective-C
</code></pre>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">タグ</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://ngkz.github.io/tags/emacs/">Emacs</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2018/11/wake-1yr-maintenance/" data-tooltip="ウェイク12ヶ月点検">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">次</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2018/09/change-differential-oil/" data-tooltip="デフオイルを交換した">
              
                  <span class="hide-xs hide-sm text-small icon-mr">前</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">ngkz.log</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://ngkz.github.io/" property="cc:attributionName" rel="cc:attributionURL">Kazutoshi Noguchi</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2018/11/wake-1yr-maintenance/" data-tooltip="ウェイク12ヶ月点検">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">次</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://ngkz.github.io/2018/09/change-differential-oil/" data-tooltip="デフオイルを交換した">
              
                  <span class="hide-xs hide-sm text-small icon-mr">前</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://ngkz.github.io/2018/10/doom-emacs-develop-setup/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="1">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fngkz.github.io%2F2018%2F10%2Fdoom-emacs-develop-setup%2F">
          <i class="fa fa-facebook-official"></i><span>Facebookで共有</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fngkz.github.io%2F2018%2F10%2Fdoom-emacs-develop-setup%2F">
          <i class="fa fa-twitter"></i><span>Twitterで共有</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fngkz.github.io%2F2018%2F10%2Fdoom-emacs-develop-setup%2F">
          <i class="fa fa-google-plus"></i><span>Google&#43;で共有</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://ngkz.github.io/mypicture.jpg" alt="プロフィール画像" />
    
    <h4 id="about-card-name">Kazutoshi Noguchi</h4>
    
      <div id="about-card-bio">I&rsquo;m interested in InfoSec, CTF, Electronics, and DIY.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Unemployed
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Japan
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="検索" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center"></div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190218/">
                <h3 class="media-heading">日記 2019/02/18(月)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>別のマシンでglibcのテストが通らなかったので原因を調べていた。systemdがかけたリソースの制限のせいでPIDが不足したのと、他のプロセスの負荷が原因でテストがタイムアウトしたのが原因だった。</li>
<li>32bitのglibcをビルドしようとしたら失敗した。

<ul>
<li>間違ってGCC (pass 2)をmultilib無効でビルドしていた</li>
<li>明日再ビルドして、ついでにデフォルトPIE, デフォルト stack protectorとbuild idの自動出力を有効にする予定</li>
</ul></li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ30分前に1スクープ摂取

<ul>
<li>プレワークアウト飲んで下半身の筋トレをすると気分が悪くなるのを忘れていた。次からは飲まないようにする</li>
</ul></li>
<li>HMBを朝, トレーニング一時間前, 就寝前に1g摂取</li>
<li>前日の睡眠 7:24 (23:09→5:16, 5:35→5:44, 6:10→7:24)

<ul>
<li>周囲が騒がしくて途中で起きてしまった。</li>
</ul></li>
<li>前日の疲れが残っているせいかあまり集中できなかった</li>
</ul>

<p><strong>下半身</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ブルガリアンスクワット</td>
<td>3セット 自重+35kg(15kg+シャフト x 2) 左右14回以上 → 自重</td>
<td>↓左13 右11 左9 右10 左8→自重で6 右8→10</td>
<td></td>
</tr>

<tr>
<td>シシースクワット</td>
<td>2セット 自重</td>
<td></td>
<td>時間切れ</td>
</tr>

<tr>
<td>ヒップスラスト</td>
<td>2セット 30kg(27.5kg+シャフト) 24回以上 →ドロップ</td>
<td></td>
<td></td>
</tr>

<tr>
<td>レッグカール</td>
<td>2セット 22.5kg(20kg+シャフト) 11回以上 →ドロップ</td>
<td></td>
<td></td>
</tr>

<tr>
<td>片足スタンディングカーフレイズ</td>
<td>3セット 自重 左右23回以上</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<h2 id="その他">その他</h2>

<ul>
<li>3時間くらい余計なことやって時間を無駄にしてしまった。</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190217/">
                <h3 class="media-heading">日記 2019/02/17(日)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="筋トレ">筋トレ</h2>

<p>疲れていて頭痛もするのでなし</p>

<h2 id="その他">その他</h2>

<ul>
<li><a href="https://www.amazon.co.jp/gp/product/B07D26LM4K">名刺入れ</a> の <a href="https://www.amazon.co.jp/sp?_encoding=UTF8&amp;asin=&amp;isAmazonFulfilled=1&amp;isCBA=&amp;marketplaceID=A1VC38T7YXB528&amp;orderID=&amp;seller=A2RKBYP0767LPV&amp;tab=&amp;vasStoreID=">販売業者</a> から交換品が届いた。</li>
<li>体調が悪いので何もする気がおきず、ダラダラ起きていたら何もせずに1日が終わってしまった。早く寝て疲れを取ればよかった。</li>
</ul>

<h2 id="車中泊テスト">車中泊テスト</h2>

<p>電気毛布が届いたので、試しに近くで車中泊してみた。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190216/">
                <h3 class="media-heading">日記 2019/02/16(土)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="ラックの修理">ラックの修理</h2>

<ul>
<li>ラックを車に取り付けてボルトを塗装し、車体の穴をフェルトで塞いだ。</li>
<li>これでラックの修理は完了</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>寝るのが遅すぎたのが原因でラックを修理していたら夜遅くになってしまった。今日の筋トレはなし</li>
<li>通常の食事2食, 追加でタンパク質64g分のプロテイン, HMB3gを摂取

<ul>
<li>筋トレしない日もHMBはとったほうがいいのか？</li>
</ul></li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190215/">
                <h3 class="media-heading">日記 (2019/02/15)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>64bit glibcのテストが通るようになった。

<ul>
<li><code>-fno-plt</code> <code>-fexceptions</code>のどれかがCFLAGSに入っているとテストコードが、<code>-z now</code>がLDFLAGSに入っているとダイナミックリンカが壊れることが分かった。</li>
<li>前者は、 一度しか実行せず攻撃を受けることもないテストコードには最適化もHardeningも不要なので、テスト時にすべてのフラグを削除することで対処した。</li>
<li>後者はライブラリのビルド時に一時的に <code>-z now</code> をLDFLAGSから削除することで対処した。</li>
</ul></li>
<li>manページの圧縮処理とデバッグ情報の分離処理を書いている途中</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ30分前に1スクープ摂取</li>
<li>HMBを昼, 夕食前, 就寝前に1g摂取</li>
<li>前日の睡眠 6:57 (0:26→7:28)</li>
<li>食事前に筋トレ</li>
</ul>

<p><strong>上半身プル+腹筋</strong></p>

<p>集中できなかった</p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ハーフデッドリフト</td>
<td>3セット 30kg(27.5kgx2+シャフト) 24回以上</td>
<td>↑25 16 13 12?</td>
<td>3セット目途中で邪魔が入った。力が出しきれなかった</td>
</tr>

<tr>
<td>ワンハンドローイング</td>
<td>左右2セット 12.5kg(10kg+シャフト) 15回以上 →ドロップ</td>
<td>→右14 左16 右12→7.5kg(2.5kgx2+シャフト)で15→5kgで13→2.5kgで15→1.25kgで13 左17→7.5kg(2.5kgx2+シャフト)で14→5kgで21→2.5kgで20→1.25kgで22</td>
<td></td>
</tr>

<tr>
<td>ダンベルシュラッグ</td>
<td>2セット 30kg(27.5kgx2+シャフト) 24回以上 →ドロップ</td>
<td>↑24 16→15kg+シャフトで25</td>
<td></td>
</tr>

<tr>
<td>ダンベルカール</td>
<td>3セット 10kg(7.5kg+シャフト) 13回以上 <del>→ドロップ</del></td>
<td>12.5kgで3回 8.5 8.5</td>
<td>重量間違えた</td>
</tr>

<tr>
<td>変形バックエクステンション</td>
<td>2セット 自重+5kg 16回以上 →ドロップ</td>
<td></td>
<td>時間切れ</td>
</tr>

<tr>
<td>ツイストクランチ</td>
<td>3セット 自重 5秒維持 16回以上 → 1秒維持 23回以上</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<h2 id="その他">その他</h2>

<ul>
<li>明日が休日だとつい夜更ししてしまう。健康によくないし、休日でないとできないことができなくなるし、筋肉や神経系に悪影響が出るので、23時になったらPCを強制サスペンドするようにcronを設定した。</li>
<li><a href="https://www.amazon.co.jp/gp/product/B01LW43RYZ">電気毛布</a>と<a href="https://www.amazon.co.jp/gp/product/B073TDGH3M">カードスリーブ</a>と<a href="https://www.amazon.co.jp/gp/product/B07D26LM4K">名刺入れ</a>が届いた。

<ul>
<li>磁気カードと非接触ICカードを防磁防RFカードスリーブに入れた。</li>
<li>スリーブを付けるとカードが財布のカード入れに入らない。

<ul>
<li>カードスリーブをつけるとサイズが大きくなるのを忘れていた。</li>
<li>スリーブよりシールド付きの財布を買った方がよかったかもしれない。</li>
</ul></li>
<li>スリーブに入れるとスマホで読みとれなくなるので、防RF効果はちゃんとあるようだ。

<ul>
<li>防磁は試す勇気がない</li>
</ul></li>
<li>名刺入れは金属部分に大きく深い切り傷があったので、販売者に交換してもらうことにした。</li>
<li>その後、業者が交換品を送り、不良品はこっちで破棄することになった。 <a href="https://ngkz.github.io/2019/02/diary-20190217/">2日後に交換品が届いた</a>。</li>
<li>電気毛布はちゃんと動いた。明日車の中でどれくらいの効果があるかテストしてみる予定</li>
</ul></li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190214/">
                <h3 class="media-heading">日記 (2019/02/14)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>glibcのビルドはまだ成功していない。再ビルドに時間がかかるのでテストの実行を一部だけにしても1周数十分かかる。嫌になってきた

<ul>
<li>ライブラリのビルド・バイナリのビルド・テストの各段階で使えないフラグが違うっぽい</li>
</ul></li>
<li>デバッグ情報を分離して <code>/usr/lib/debug/.build-id/...</code> に置きたいので、LDFLAGSに <code>-Wl,--build-id</code>を追加してBuild IDを生成するようにした</li>
<li>必要なさそうなので <code>CFLAGS</code>から <code>-grecord-gcc-switches</code>を削除</li>
</ul>

<h2 id="ラックの修理">ラックの修理</h2>

<ul>
<li>ステーと立バンドの裏に塗料を重ね塗りした。今週末には完成しそう</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ30分前に1スクープ摂取</li>
<li>HMBを昼, 夕食前, 就寝前に1g摂取</li>
<li>前日の睡眠 7:38 (0:00 → 7:43)

<ul>
<li>途中トイレに行きたくなって起きてしまったものの、全体的にはアラームに気付かないくらい熟睡した</li>
</ul></li>
</ul>

<p><strong>上半身プッシュ</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ローテーターカフのウォームアップ</td>
<td></td>
<td></td>
<td></td>
</tr>

<tr>
<td>プッシュアップ</td>
<td>3セット 自重 8回以上 → 膝つき</td>
<td>↑9→5 9→6 6→3</td>
<td></td>
</tr>

<tr>
<td>ダンベルショルダープレス</td>
<td>2セット 25kg(10kgx2+シャフト) 15回以上 → ドロップ</td>
<td>↑15 13→5kgx2で21→2.5kgx2で23</td>
<td></td>
</tr>

<tr>
<td>ダンベルフレンチプレス</td>
<td>2セット 10kg+シャフト 11回以上 → ドロップ</td>
<td>↑12? 9+14</td>
<td></td>
</tr>

<tr>
<td>ダンベルフライ</td>
<td>2セット 7.5kgx2+シャフト 14回以上 <del>→ ドロップ</del></td>
<td>↑18? 13</td>
<td></td>
</tr>
</tbody>
</table>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190213/">
                <h3 class="media-heading">日記 (2019/02/13)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li>glibcのテストが失敗するのは LDFLAGSで <code>-z now</code>を渡すとダイナミックリンカが壊れるのが原因だった。</li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを筋トレ30分前に1スクープ摂取</li>
<li>HMBを昼, 筋トレ1時間前, 就寝前に1g摂取</li>
<li>前日の睡眠 6:59 (0:28 → 7:37)</li>
<li>シシースクワットでレッグエクステンションを置き換え</li>
</ul>

<p><strong>下半身+腹筋</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ブルガリアンスクワット</td>
<td>3セット 自重+35kg(15kg+シャフト x 2) 左右11回以上 → 自重</td>
<td>↑左13 右12 左9 右10 左10→自重で12 右8→自重で14</td>
<td>プレワークアウトのカフェインの副作用のせいかかなりつらい</td>
</tr>

<tr>
<td>シシースクワット</td>
<td>2セット 自重</td>
<td>21 20 25</td>
<td>難しい, 中断してフォームを確認しながら</td>
</tr>

<tr>
<td>ヒップスラスト</td>
<td>2セット 30kg(27.5kg+シャフト) 24回以上 →ドロップ</td>
<td></td>
<td>時間がないので省略</td>
</tr>

<tr>
<td>レッグカール</td>
<td>2セット 22.5kg(20kg+シャフト) 11回以上 →ドロップ</td>
<td></td>
<td></td>
</tr>

<tr>
<td>片足スタンディングカーフレイズ</td>
<td>3セット 自重 左右23回以上</td>
<td></td>
<td></td>
</tr>

<tr>
<td>ツイストクランチ</td>
<td>3セット 自重 5秒維持 16回以上 → 1秒維持 23回以上</td>
<td>↓13 → ?</td>
<td>時間切れで中断</td>
</tr>
</tbody>
</table>

<h2 id="ラックの修理">ラックの修理</h2>

<p>立バンドの裏を塗装し、ステーのめっきが剥げた箇所にサビ止めを塗った。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190212/">
                <h3 class="media-heading">日記 (2019/02/12)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="linux-from-scratch">Linux from Scratch</h2>

<ul>
<li><p>glibcのビルドをしている</p>

<ul>
<li><code>*FLAGS</code>を空にした状態でビルドしてみたらテストが通ったので、フラグを変えながらビルドとテストを繰り返してどれが失敗の原因か調べている</li>
</ul></li>

<li><p><a href="http://clfs.org">Cross Linux from Scratch</a> のサイトが消滅してた</p></li>
</ul>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを30分前に1スクープ摂取</li>
<li>HMBを昼に1g, トレーニング1時間前に1g摂取, 夜に1g摂取</li>
<li>前日の睡眠 7:23 (0:09 → 7:33)</li>
<li>食事前に筋トレ</li>
</ul>

<p><strong>上半身プル</strong></p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ハーフデッドリフト</td>
<td>3セット 27.5kgx2+シャフト 13回以上</td>
<td>↑23 16 16</td>
<td>キツい 追いこみきれてない 1/30くらいのトレーニングボリュームに回復した</td>
</tr>

<tr>
<td>ワンハンドローイング</td>
<td>左右2セット 10kg+シャフト 12回以上 →ドロップ</td>
<td>↑右14 左16 右14→5kg+シャフトで13 左15→5kg+シャフトで17</td>
<td></td>
</tr>

<tr>
<td>ダンベルシュラッグ</td>
<td>2セット 27.5kgx2+シャフト 23回以上 →ドロップ</td>
<td>↑23 17→15kg+シャフトで34</td>
<td></td>
</tr>

<tr>
<td>ダンベルカール</td>
<td>3セット 7.5kg+シャフト 12回以上 →ドロップ</td>
<td>↑12 8.5 6</td>
<td></td>
</tr>

<tr>
<td>変形バックエクステンション</td>
<td>2セット 自重+5kg 16回以上 →ドロップ</td>
<td></td>
<td>時間切れ</td>
</tr>
</tbody>
</table>

<h2 id="ラックの修理">ラックの修理</h2>

<p>立バンドに塗料を塗り重ねた</p>

<h2 id="その他">その他</h2>

<ul>
<li>スキーに行くとき車中泊する予定なので電気毛布を注文した</li>
<li>ついでにいろいろと注文した

<ul>
<li>カードの保護のための防磁・防RFのカードスリーブ</li>
<li>セキュリティコードを隠すための剥がすと跡が残るシール</li>
<li>まともな名刺ケース</li>
</ul></li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190211/">
                <h3 class="media-heading">日記 (2019/02/11)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="筋トレ">筋トレ</h2>

<ul>
<li>THE プレワークアウトを多めの水(400ml)に溶かしてみたら、ちょうどいい味の濃さになりケミカル感も軽減されておいしかった。</li>
<li>ノンフレーバーHMB + Impact ホエイ ソルティッドキャラメル味は相性が悪く、HMBのワキガ臭と苦みを打ち消しきれない。</li>
</ul>

<p><strong>上半身プッシュ+腹筋</strong></p>

<p>徹夜の悪影響が残っているからかトレーニングボリュームが落ちている。</p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ローテーターカフのウォームアップ</td>
<td></td>
<td></td>
<td></td>
</tr>

<tr>
<td>プッシュアップ</td>
<td>3セット 自重 9回以上 → 膝つき</td>
<td>↓7→4 8+4 7+5</td>
<td></td>
</tr>

<tr>
<td>ダンベルショルダープレス</td>
<td>2セット 10kgx2+シャフト 14回以上 <del>→ ドロップ</del></td>
<td>↑14 12</td>
<td></td>
</tr>

<tr>
<td>ダンベルフレンチプレス</td>
<td>2セット 10kg+シャフト 11回以上 <del>→ ドロップ</del></td>
<td>→10 11</td>
<td></td>
</tr>

<tr>
<td>ダンベルフライ</td>
<td>2セット 7.5kgx2+シャフト 14回以上 <del>→ ドロップ</del></td>
<td></td>
<td>時間がないので省略</td>
</tr>

<tr>
<td>ツイストクランチ</td>
<td>3セット 自重 5秒維持 16回以上 → 1秒維持 23回以上</td>
<td>→15 → 22 22</td>
<td></td>
</tr>
</tbody>
</table>

<h2 id="linux-from-scratch">Linux from Scratch</h2>

<p>LFS BookとArch LinuxのPKGBUILDを参考にglibcをビルドしている。64bitライブラリのビルドはできたが、テストが通らない。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190210/">
                <h3 class="media-heading">日記 (2019/02/10)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="ラックの修理">ラックの修理</h2>

<ul>
<li>残りのステー4つを加工して仮付けしてみた。</li>
<li>一旦ステーとラックを全部外してサビ止めと塗装

<ul>
<li>パーツクリーナーでこびりついたラベルとセロテープをはがして脱脂した</li>
<li>やすりで足つけした</li>
<li>立バンドを黒に塗装している途中</li>
</ul></li>
</ul>

<h2 id="もう半分のプロテインが届いた">もう半分のプロテインが届いた</h2>

<p>マイプロテインから残りの品(カゼイン5kg, 10Lサプリメント用ボトル2個)が入った箱が届いた。商品の大きさに対して箱が小さすぎるのでこっちもボトルがベコベコになっていた。</p>

<p>ボトルのへこみを手で戻して洗い、フタの裏に乾燥剤を貼りつけておいた。</p>

<h2 id="筋トレ">筋トレ</h2>

<ul>
<li>プレワークアウトの変な臭みは混ぜたHMBが原因だった。HMBを混ぜてないTHE プレワークアウトのフルーツパンチ味はケミカルな感じのする甘酸っぱい味だった。</li>
<li><a href="https://hmb-supplement.net/?p=413">HMBの臭み消しには柑橘系のフルーツジュースやココア味やチョコ味のプロテインが有効らしい</a>

<ul>
<li>実際オーバーナイトリカバリーブレンド チョコレートスムース味との相性はよく、HMBの臭みと苦みをほとんど感じないくらいに打ち消せている</li>
</ul></li>
<li>HMBの袋のチャックが締まらなかったので強引に締めようとしたら完全にチャックが壊れた。幸い250gのパッケージなので、そこらで買える密閉容器に詰めればなんとかなりそう。</li>
</ul>

<p>下半身</p>

<table>
<thead>
<tr>
<th>種目</th>
<th>重量&amp;目標回数</th>
<th>回数</th>
<th>備考</th>
</tr>
</thead>

<tbody>
<tr>
<td>ブルガリアンスクワット</td>
<td>3セット 自重+35kg(15kg+シャフト x 2) 左右11回以上 → 自重</td>
<td>→左10 右7 左5 右6 左3</td>
<td>力が出ない 途中で寝た</td>
</tr>

<tr>
<td>シッシースクワット</td>
<td>2セット</td>
<td></td>
<td></td>
</tr>

<tr>
<td>ヒップスラスト</td>
<td>2セット 30kg(27.5kg+シャフト) 24回以上 →ドロップ</td>
<td></td>
<td></td>
</tr>

<tr>
<td>レッグカール</td>
<td>2セット 22.5kg(20kg+シャフト) 11回以上 →ドロップ</td>
<td></td>
<td></td>
</tr>

<tr>
<td>片足スタンディングカーフレイズ</td>
<td>3セット 自重 左右23回以上</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>寝るタイミングを逃して徹夜したせいで、まだ筋肉は効いていないのにセットの途中で力がまったく発揮できなくなり、まだカフェインが効いているはずなのに途中で気を失うように眠ってしまった。</p>

<p>きちんと睡眠をとらないとトレーニングに影響が出ることを身をもって体感した。これからは決まった時間に長めに眠ることにする。昨日トレーニングボリュームが落ちたのはいつもより眠る時間が遅かったせいかもしれない。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://ngkz.github.io/2019/02/diary-20190209/">
                <h3 class="media-heading">日記 (2019/02/09)</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><h2 id="ラックの修理">ラックの修理</h2>

<p>ステーを2本削って曲げ、ラックのリア側も立バンド固定にした。</p>

<h2 id="プロテインが半分届いた">プロテインが半分届いた</h2>

<p>先週マイプロテインに頼んだサプリメントが2分割で発送され、ホエイ5kg、プレワークアウト、HMBとおまけが入った方の箱が届いた。</p>

<p>プレミアム配送が無料になる注文金額だったので、はじめてプレミアム配送を使ってみたが、梱包は通常配送と変わらないようなので、謎の粉まみれになっていたり、サプリメント容器が薄汚れてベコベコになっていたりしたが、<del>破損はなかった。</del> HMBの袋のチャックが壊れかかってた。なんとか密封されているようだが、かなり締めにくい</p>

<p>前回通常配送で頼んだときは、 11/12注文 11/15発送 11/26着で、今回は1週間で半分到着なので、通常配送より速くはなっているようだ。</p>

<p>もう片方の箱はまだ空港から出ていないので、届くのは数日後になりそう。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero=""
         data-message-one=""
         data-message-other="">
         52 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://ngkz.github.io/images/cover.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://ngkz.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/ngkz.github.io\/2018\/10\/doom-emacs-develop-setup\/';
          
            this.page.identifier = '\/2018\/10\/doom-emacs-develop-setup\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'ngkz-log';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

